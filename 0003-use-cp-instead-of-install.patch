From 59809d4940822edaa361507ecea93b84e3c43ec0 Mon Sep 17 00:00:00 2001
From: Igor Gnatenko <ignatenkobrain@fedoraproject.org>
Date: Sat, 4 Nov 2017 15:32:39 +0100
Subject: [PATCH 3/3] use cp instead of install

We want to preserve original modes and so on.

Signed-off-by: Igor Gnatenko <ignatenkobrain@fedoraproject.org>
---
 data/macros.cargo | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/data/macros.cargo b/data/macros.cargo
index 09bbcea..e52f87c 100644
--- a/data/macros.cargo
+++ b/data/macros.cargo
@@ -45,9 +45,9 @@ if %__cargo_is_lib; then                                                  \
   CRATE_VERSION=$(%__cargo_inspector --version Cargo.toml)                \
   REG_DIR=%{buildroot}%{cargo_registry}/$CRATE_NAME-$CRATE_VERSION        \
   %{__mkdir} -p $REG_DIR                                                  \
-  %__cargo package -l | xargs cp --parents -p -t $REG_DIR                 \
+  %__cargo package -l | xargs %{__cp} --parents -a -t $REG_DIR            \
 %if ! %{with check}                                                       \
-  %{__install} -p Cargo.toml.orig $REG_DIR/Cargo.toml                     \
+  %{__cp} -a Cargo.toml.orig $REG_DIR/Cargo.toml                          \
 %endif                                                                    \
   echo '{"files":{},"package":""}' > $REG_DIR/.cargo-checksum.json        \
 fi \
-- 
2.15.0

